# RelAize 项目 Alpha 阶段周报

**报告周期：** 2024年11月11日 - 2024年11月17日
**项目阶段：** Alpha
**报告人：** [请填写你的姓名]
**整体进度：** ~70% （核心流程已贯通）


## 1. 本周工作概要

本周项目整体按计划推进，成功串起了从“上传 → 自动编排 → 手动调参 → 效果对比 → 报告导出”的全链路UI，并可对接后端进行完整流程演示。后端核心服务、任务队列与图像处理管线已搭建完成。主要风险在于虽然Redis部分已经完成但是数据持久化方案尚未落地（主要是这周听了老师讲的数据库选择，第一次了解到可以使用两种数据库，我们修改了原来的计划打算采用Mysql+Redis），且部分核心功能工程化程度不足（我们选的核心处理算法还是不够好，虽然能提升设定的指标，但是从肉眼上看感觉有的甚至更差了）。

## 2. 关键进展与成果

### 2.1 前端核心交互流程贯通
- **全链路导航：** 完成了6个核心页面的路由与导航，用户可在仪表盘、上传、自动/手动修复、对比、报告页面间一键跳转。
- **关键页面功能：**
    - **上传页：** 实现文件夹递归解析、批量上传与任务队列可视化。
    - **手动调参面板：** 提供水质预设、状态管理与参数滑块，参数可回填并重新排队。
    - **自动修复编排：** 支持策略选择、强度调整与多任务批量处理。
    - **效果对比与报告：** 实现分屏/擦除等对比模式，报告页可导出建议。
- **统一接口：** 通过统一的API客户端对接FastAPI后端，提升了开发效率。

### 2.2 后端任务处理流水线就绪
- **服务集成：** FastAPI应用成功集成Redis、任务服务、报告服务与后台Worker。
- **异步处理：** 独立的TaskWorker线程能自动从Redis队列消费任务，并进行处理。
- **图像处理管线：** 集成OpenCV，实现了包含灰度世界、CLAHE等算法的修复管线，并可输出UIQM/UCIQE等量化指标。

## 3. 风险与问题

| 风险/问题描述 | 影响等级 | 状态/根因 | 建议措施/下一步计划 |
| :--- | :--- | :--- | :--- |
| **数据持久化缺失**：当前仅依赖Redis与本地文件，服务重启将导致所有任务数据丢失。 | 高 | 设计中的PostgreSQL与MinIO尚未落地。 | 高优先级推进持久化方案实施。 |
| **核心功能工程化不足**：自动修复策略参数未传递至后端；报告数据仍为固定示例。 | 中 | Alpha阶段为实现快速演示，部分功能为前端模拟。 | 前后端统一参数协议，报告服务接入真实指标。 |
| **系统吞吐量与可靠性风险**：图像处理为单线程Worker；项目缺乏任何自动化测试。 | 中 | 架构层面暂未考虑并发与测试覆盖。 | 实现多Worker；补充核心流程的自动化测试[5](@ref)。 |

## 4. 下周工作计划

1.  **【高优】数据持久化**
    - 完成PostgreSQL（元数据）与MinIO/S3（图像存储）的接入。
    - 提供数据迁移脚本，避免Redis数据丢失。

2.  **【功能完善】参数协议与报告真实化**
    - 统一自动/手动调参的后端参数协议，使策略生效。
    - 改造报告服务，使其读取真实任务指标而非示例数据。


## 5. 需要支持与协作事项

-   **致数据团队：** 为便于测试与演示，需要确认一套可公开使用的基准图像样本。
-   **致运维团队：** 请协助确定测试环境中Redis/PostgreSQL/MinIO的部署形态与访问凭据，以便我们完成应用配置与CI/CD流程封装[2](@ref)。

---
**备注：** 本报告由AI辅助生成，内容基于团队同步信息，请审阅后分发。